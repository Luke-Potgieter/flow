<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-concepts/README">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<title data-rh="true">Concepts | Estuary Flow</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.estuary.dev/concepts/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Concepts | Estuary Flow"><meta data-rh="true" name="description" content="Flow helps you define data pipelines, known as data flows, that connect your data systems, APIs, and storage, and optionally transform data along the way."><meta data-rh="true" property="og:description" content="Flow helps you define data pipelines, known as data flows, that connect your data systems, APIs, and storage, and optionally transform data along the way."><link data-rh="true" rel="icon" href="/img/favicon-2.ico"><link data-rh="true" rel="canonical" href="https://docs.estuary.dev/concepts/"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/concepts/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.estuary.dev/concepts/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1a1aa747.css">
<link rel="preload" href="/assets/js/runtime~main.121d416e.js" as="script">
<link rel="preload" href="/assets/js/main.2db1a9e8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/estuary-new.png" alt="Estuary Flow Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/estuary-new.png" alt="Estuary Flow Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">Estuary Flow</b></a><a class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/">Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/getting-started/installation/">Get started self-hosting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guides/create-dataflow/">User guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" href="/concepts/">Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/captures/">Captures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/collections/">Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/connectors/">Connectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/derivations/">Derivations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/flowctl/">flowctl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/import/">Imports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/materialization/">Materializations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/schemas/">Schemas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/storage-mappings/">Storage mappings</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/concepts/advanced/journals/">Advanced concepts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/concepts/tests/">Tests</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/reference/Connectors/">Reference</a></div></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Concepts</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Concepts</h1><p>Flow helps you define data pipelines, known as <strong>data flows</strong>, that connect your data systems, APIs, and storage, and optionally transform data along the way.
Data flows are defined in a Flow <a href="#catalogs">catalog</a> and deployed using either the web application or the <a href="#flowctl">flowctl</a> command-line interface.</p><p>This page provides a high-level explanation of concepts and terminology that will help you begin working with Flow and better understand its underlying mechanisms.
These concepts are further discussed in more detail on dedicated pages of this section.</p><p><img loading="lazy" src="/assets/images/at-a-glance-da34673627d1be4959a23f38ad395e73.png" width="960" height="540" class="img_E7b_"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="catalogs">Catalogs<a class="hash-link" href="#catalogs" title="Direct link to heading">​</a></h2><p>A <strong>catalog</strong> comprises all the components that describe how your data flows function and behave:
captures, collections, derivations, materializations, tests, and more. For example:</p><ul><li>How to <strong>capture</strong> data from source systems into <strong>collections</strong></li><li>The <strong>schemas</strong> of those collections, which Flow enforces</li><li>How to <strong>derive</strong> collections as transformations of other source collections</li><li><strong>Materializations</strong> of collections into destination systems</li><li>Your <strong>tests</strong> of schema and derivation behaviors</li></ul><p>Together the captures, collections, derivations, and materializations of your catalog
form a graph of your data flows:</p><div class="mermaid">
	graph LR;
		capture/two--&gt;collection/D;
		capture/one--&gt;collection/C;
		capture/one--&gt;collection/A;
        collection/A--&gt;derivation/B;
        collection/D--&gt;derivation/E;
        collection/C--&gt;derivation/E;
        derivation/B--&gt;derivation/E;
		collection/D--&gt;materialization/one;
		derivation/E--&gt;materialization/two;
</div><h3 class="anchor anchorWithStickyNavbar_mojV" id="namespace">Namespace<a class="hash-link" href="#namespace" title="Direct link to heading">​</a></h3><p>All catalog entities (captures, materializations, and collections) are identified by a <strong>name</strong>
such as <code>acmeCo/teams/manufacturing/anvils</code>. Names have directory-like
prefixes and every name within Flow is globally unique.</p><p>If you&#x27;ve ever used database schemas to organize your tables and authorize access,
you can think of name prefixes as being akin to database schemas with arbitrary nesting.</p><p>All catalog entities exist together in a single <strong>namespace</strong>.
As a Flow customer, you&#x27;re provisioned one or more high-level prefixes for your organization.
Further division of the namespace into prefixes is up to you.</p><p>Prefixes of the namespace, like <code>acmeCo/teams/manufacturing/</code>,
are the foundation for Flow&#x27;s authorization model.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="builds">Builds<a class="hash-link" href="#builds" title="Direct link to heading">​</a></h3><p>Catalog entities like collections are very long-lived and may evolve over time.
A collection&#x27;s schema might be extended with new fields,
or a transformation might be updated with a bug fix.</p><p>When one or more catalog entities are updated,
a catalog <strong>build</strong> validates their definitions and prepares them for execution by Flow&#x27;s runtime.
Every build is assigned a unique identifier called a <strong>build ID</strong>,
and the build ID is used to reconcile which version of a catalog entity
is being executed by the runtime.</p><p>A catalog build is <strong>activated</strong> into Flow&#x27;s runtime to deploy its captures, collections, and so on,
possibly replacing an older build under which they had been running.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="specifications">Specifications<a class="hash-link" href="#specifications" title="Direct link to heading">​</a></h3><p>A catalog build begins from a set of <strong>catalog specifications</strong>
which define the behavior of your catalog:
the entities it contains, like captures, collections, and materializations,
and their specific behaviors and configuration.</p><p>You define catalog specifications using either the Flow web application,
or by directly creating and editing YAML or JSON files which are typically managed
in a Git repository using familiar developer workflows (often called &quot;GitOps&quot;).</p><p>These files use the extension <code>*.flow.yaml</code> or simply <code>flow.yaml</code> by convention.
As a practical benefit, using this extension activates Flow&#x27;s VS Code integration and auto-complete.
Flow integrates with VS Code for development environment support, like auto-complete,
tooltips, and inline documentation.</p><p>Depending on your catalog, you may also have TypeScript modules,
JSON schemas, or test fixtures which are also managed in your Git repository.</p><p>Whether you use the web app or Git-managed specifications is up to you,
and teams can switch back and forth depending on what&#x27;s more familiar.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The Flow web application is currently in <a href="https://go.estuary.dev/sign-up" target="_blank" rel="noopener noreferrer">private beta</a>.</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="collections">Collections<a class="hash-link" href="#collections" title="Direct link to heading">​</a></h2><p><strong>Collections</strong> are the fundamental representation for datasets within Flow, akin to a database table.
More technically, they&#x27;re a collection of documents having a common <strong>key</strong> and <a href="#schemas">schema</a>.</p><p>Data in collections is not modelled as a table, however.
Collections are best described as a real-time data lake:
documents are stored as an organized layout of JSON files in your cloud storage bucket.
If Flow needs to read historical data — say, as part of creating a new materialization —
it does so by reading from your bucket.
You can use regular bucket lifecycle policies to manage the deletion of data from a collection.
However, capturing <em>into</em> a collection or materializing <em>from</em> a collection happens within milliseconds.</p><p><a href="/concepts/collections/">Learn more about collections</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="journals">Journals<a class="hash-link" href="#journals" title="Direct link to heading">​</a></h3><p><strong>Journals</strong> provide the low-level storage for Flow collections.
Each logical and physical partition of a collection is backed by a journal.</p><p>Task <a href="#task-shards">shards</a> also use journals to provide for their durability
and fault tolerance.
Each shard has an associated <strong>recovery log</strong>, which is a journal into which
internal checkpoint states are written.</p><p>Journals and shards are advanced topics that may be beneficial for specialized engineering applications.</p><p><a href="/concepts/advanced/journals/">Learn more about journals</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="captures">Captures<a class="hash-link" href="#captures" title="Direct link to heading">​</a></h2><p>A <strong>capture</strong> is a Flow task that connects to a source endpoint system
and binds one or more of its resources (tables, streams, etc) to Flow collections.
Data continuously flows from each resource in the endpoint to its Flow collection;
as new data become available at the source,
Flow validates their schema and adds them to their bound collection.</p><p>There are two categories of captures:</p><ul><li><em>Pull</em> captures which pull documents from an endpoint using a <a href="#connectors">connector</a>.</li><li><em>Push</em> captures which expose an URL endpoint which can be directly written into, such as via a Webhook POST.</li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Push captures are under development.</p></div></div><p><a href="/concepts/captures/">Learn more about captures</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="materializations">Materializations<a class="hash-link" href="#materializations" title="Direct link to heading">​</a></h2><p>A <strong>materialization</strong> is a catalog task that connects to an destination endpoint system
and binds one or more collections to corresponding resources (tables, etc) in that system.
Data continuously flows from each Flow collection into its corresponding resource in the endpoint.
Materializations are the conceptual inverse of <strong>captures.</strong></p><p>As new documents become available within bound collections, the materialization
keeps endpoint resources up to date using precise, incremental updates.
Like captures, materializations are powered by <a href="#connectors">connectors</a>.</p><p><a href="/concepts/materialization/">Learn more about materializations</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="derivations">Derivations<a class="hash-link" href="#derivations" title="Direct link to heading">​</a></h2><p>A <strong>derivation</strong> is a collection that continuously
derives its documents from transformations that are applied
to one or more source collections.</p><p>You can use derivations to map, reshape, and filter documents.
They can also be used to tackle complex stateful streaming workflows,
including joins and aggregations,
and are not subject to the windowing and scaling limitations that are common to other systems.</p><p><a href="/concepts/derivations/">Learn more about derivations</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="schemas">Schemas<a class="hash-link" href="#schemas" title="Direct link to heading">​</a></h2><p>All collections in Flow have an associated
<a href="https://json-schema.org/understanding-json-schema/" target="_blank" rel="noopener noreferrer">JSON schema</a>
against which documents are validated every time they&#x27;re written or read.
Schemas are key to how Flow ensures the integrity of your data.
Flow validates your documents to ensure that
bad data doesn&#x27;t make it into your collections — or worse,
into downstream data products!</p><p>Flow pauses catalog tasks when documents don&#x27;t match the collection schema,
alerting you to the mismatch and allowing you to fix it before it creates a bigger problem.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="constraints">Constraints<a class="hash-link" href="#constraints" title="Direct link to heading">​</a></h3><p>JSON schema is a flexible standard for representing structure, invariants,
and other constraints over your documents.</p><p>Schemas can be very permissive, highly exacting, or somewhere in between.
JSON schema goes far beyond checking basic document structure.
It also supports conditionals and invariants like
&quot;I expect all items in this array to be unique&quot;,
or &quot;this string must be an email&quot;,
or &quot;this integer must be between a multiple of 10 and in the range 0-100&quot;.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="projections">Projections<a class="hash-link" href="#projections" title="Direct link to heading">​</a></h3><p>Flow leverages your JSON schemas to produce other types of schemas as needed,
such as TypeScript types and SQL <code>CREATE TABLE</code> statements.</p><p>In many cases these projections provide comprehensive end-to-end type safety
of Flow catalogs and their TypeScript transformations, all statically verified
when the catalog is built.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="reductions">Reductions<a class="hash-link" href="#reductions" title="Direct link to heading">​</a></h3><p>Flow <a href="#collections">collections</a> have a defined <strong>key</strong>, which is akin to
a database primary key declaration and determines how documents of the
collection are grouped.
When a collection is materialized into a database table, its key becomes
the SQL primary key of the materialized table.</p><p>This of course raises the question: what happens if <em>multiple</em> documents
of a given key are added to a collection?
You might expect that the last-written document is the effective document for
that key. This &quot;last write wins&quot; treatment is how comparable systems behave,
and is also Flow&#x27;s default.</p><p>Flow also offers schema <strong>extensions</strong>
that give you substantially more control over how documents are combined and reduced.
<code>reduce</code> annotations let you deeply merge documents, maintain running counts,
and achieve other complex aggregation behaviors.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="key-strategies">Key strategies<a class="hash-link" href="#key-strategies" title="Direct link to heading">​</a></h3><p>Reduction annotations change the common patterns for how you think about collection keys.</p><p>Suppose you are building a reporting fact table over events of your business.
Today you would commonly consider a unique event ID to be its natural key.
You would load all events into your warehouse and perform query-time aggregation.
When that becomes too slow, you periodically refresh materialized views for fast-but-stale queries.</p><p>With Flow, you instead use a collection key of your <em>fact table dimensions</em>,
and use <code>reduce</code> annotations to define your metric aggregations.
A materialization of the collection then maintains a
database table which is keyed on your dimensions,
so that queries are both fast <em>and</em> up to date.</p><p><a href="/concepts/schemas/">Learn more about schemas</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="tasks">Tasks<a class="hash-link" href="#tasks" title="Direct link to heading">​</a></h2><p>Captures, derivations, and materializations are collectively referred to as catalog <strong>tasks</strong>.
They are the &quot;active&quot; components of a catalog, each running continuously and reacting to documents
as they become available.</p><p>Collections, by way of comparison, are inert. They reflect data at rest, and are acted upon by
catalog tasks:</p><ul><li>A capture adds documents to a collection pulled from a source endpoint.</li><li>A derivation updates a collection by applying transformations to other collections.</li><li>A materialization reacts to changes of a collection to update a destination endpoint.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="task-shards">Task shards<a class="hash-link" href="#task-shards" title="Direct link to heading">​</a></h3><p>Task <strong>shards</strong> are the unit of execution for a catalog <a href="#tasks">task</a>.
A single task can have many shards, which allow the task to scale across
many machines to achieve more throughput and parallelism.</p><p>Shards are created and managed by the Flow runtime.
Each shard represents a slice of the overall work of the catalog task,
including its processing status and associated internal checkpoints.
Catalog tasks are created with a single shard,
which can be repeatedly subdivided at any time — with no downtime — to
increase the processing capacity of the task.</p><p><a href="/concepts/advanced/shards/">Learn more about shards</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="endpoints">Endpoints<a class="hash-link" href="#endpoints" title="Direct link to heading">​</a></h2><p><strong>Endpoints</strong> are the external systems that you connect using Flow.
All kinds of systems can be endpoints: databases, key/value stores, streaming pub/sub systems, SaaS APIs, and cloud storage locations.</p><p><a href="#captures">Captures</a> pull or ingest data <em>from</em> an endpoint, while <a href="#materializations">materializations</a> push data <em>into</em> an endpoint.
There&#x27;s an essentially unbounded number of different systems and APIs to which Flow might need to capture or materialize data.
Rather than attempt to directly integrate them all, Flow&#x27;s runtime communicates with endpoints through plugin <a href="#connectors">connectors</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h3><p>An endpoint <strong>resource</strong> is an addressable collection of data within an endpoint.
The exact meaning of a resource is up to the endpoint and its connector. For example:</p><ul><li>Resources of a database endpoint might be its individual tables.</li><li>Resources of a Kafka cluster might be its topics.</li><li>Resources of a SaaS connector might be its various API feeds.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="connectors">Connectors<a class="hash-link" href="#connectors" title="Direct link to heading">​</a></h3><p>There are <em>lots</em> of potential endpoints where you want to work with data.
Though Flow is a unified platform for data synchronization,
it&#x27;s impractical for any single company — Estuary included — to provide an integration for every
possible endpoint in the growing landscape of data solutions.</p><p><strong>Connectors</strong> are plugin components that bridge the gap between Flow’s runtime and
the various endpoints from which you capture or materialize data.
They&#x27;re packaged as Docker images, each encapsulating the details of working with
a particular kind of endpoint.</p><p>The connector then interacts with Flow&#x27;s runtime through common and open protocols
for configuration, introspection of endpoint resources, and to coordinate the
movement of data into and out of the endpoint.</p><p>Crucially, this means Flow doesn&#x27;t need to know about new types of endpoint ahead of time:
so long as a connector is available Flow can work with the endpoint, and it&#x27;s
relatively easy to build a connector yourself.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="discovery">Discovery<a class="hash-link" href="#discovery" title="Direct link to heading">​</a></h3><p>Connectors offer <strong>discovery</strong> APIs for understanding how a connector
should be configured, and what resources are available within an endpoint.</p><p>Flow works with connector APIs to provide a guided discovery workflow
which makes it easy to configure the connector, and select from a menu
of available endpoint resources you can capture.</p><p><a href="/concepts/connectors/">Learn more about endpoints and connectors</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="tests">Tests<a class="hash-link" href="#tests" title="Direct link to heading">​</a></h2><p>You use <strong>tests</strong> to verify the end-to-end behavior of your collections and derivations.
A test is a sequence of ingestion or verification steps.
Ingestion steps ingest one or more document fixtures into a collection,
and verification steps assert that the contents of another derived collection match a test expectation.</p><p><a href="/concepts/tests/">Learn more about tests</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="storage-mappings">Storage mappings<a class="hash-link" href="#storage-mappings" title="Direct link to heading">​</a></h2><p>Flow <a href="#collections">collections</a> use cloud storage buckets for the durable storage of data.
Storage mappings define how Flow maps your various collections into your storage buckets and prefixes.</p><p><a href="/concepts/storage-mappings/">Learn more about storage mappings</a></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="flowctl">flowctl<a class="hash-link" href="#flowctl" title="Direct link to heading">​</a></h2><p>flowctl is Flow&#x27;s command-line interface.
With flowctl, developers can work directly on active catalogs and drafts created in the Flow webapp.
They can develop locally, test more flexibly, and collaboratively refine catalogs.</p><p><a href="/concepts/flowctl/">Learn more about flowctl</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/estuary/flow/edit/master/site/docs/concepts/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/guides/connect-network/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configure connections with SSH tunneling</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/concepts/captures/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Captures</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#catalogs" class="table-of-contents__link toc-highlight">Catalogs</a><ul><li><a href="#namespace" class="table-of-contents__link toc-highlight">Namespace</a></li><li><a href="#builds" class="table-of-contents__link toc-highlight">Builds</a></li><li><a href="#specifications" class="table-of-contents__link toc-highlight">Specifications</a></li></ul></li><li><a href="#collections" class="table-of-contents__link toc-highlight">Collections</a><ul><li><a href="#journals" class="table-of-contents__link toc-highlight">Journals</a></li></ul></li><li><a href="#captures" class="table-of-contents__link toc-highlight">Captures</a></li><li><a href="#materializations" class="table-of-contents__link toc-highlight">Materializations</a></li><li><a href="#derivations" class="table-of-contents__link toc-highlight">Derivations</a></li><li><a href="#schemas" class="table-of-contents__link toc-highlight">Schemas</a><ul><li><a href="#constraints" class="table-of-contents__link toc-highlight">Constraints</a></li><li><a href="#projections" class="table-of-contents__link toc-highlight">Projections</a></li><li><a href="#reductions" class="table-of-contents__link toc-highlight">Reductions</a></li><li><a href="#key-strategies" class="table-of-contents__link toc-highlight">Key strategies</a></li></ul></li><li><a href="#tasks" class="table-of-contents__link toc-highlight">Tasks</a><ul><li><a href="#task-shards" class="table-of-contents__link toc-highlight">Task shards</a></li></ul></li><li><a href="#endpoints" class="table-of-contents__link toc-highlight">Endpoints</a><ul><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#connectors" class="table-of-contents__link toc-highlight">Connectors</a></li><li><a href="#discovery" class="table-of-contents__link toc-highlight">Discovery</a></li></ul></li><li><a href="#tests" class="table-of-contents__link toc-highlight">Tests</a></li><li><a href="#storage-mappings" class="table-of-contents__link toc-highlight">Storage mappings</a></li><li><a href="#flowctl" class="table-of-contents__link toc-highlight">flowctl</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Flow Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/EstuaryDev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/estuary/flow" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Estuary Technologies, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.121d416e.js"></script>
<script src="/assets/js/main.2db1a9e8.js"></script>
</body>
</html>