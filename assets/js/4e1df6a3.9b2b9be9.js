"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[7723],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=o,f=u["".concat(p,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(f,i(i({ref:t},s),{},{components:n})):a.createElement(f,i({ref:t},s))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1616:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return d}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i=["components"],l={sidebar_position:5},p="flowctl",c={unversionedId:"concepts/flowctl",id:"concepts/flowctl",title:"flowctl",description:"There are two ways to work with Flow: through the web app, and using the flowctl command-line interface.",source:"@site/docs/concepts/flowctl.md",sourceDirName:"concepts",slug:"/concepts/flowctl",permalink:"/concepts/flowctl",draft:!1,editUrl:"https://github.com/estuary/flow/edit/master/site/docs/concepts/flowctl.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Derivations",permalink:"/concepts/derivations"},next:{title:"Imports",permalink:"/concepts/import"}},s={},d=[{value:"Installation",id:"installation",level:2},{value:"flowctl subcommands",id:"flowctl-subcommands",level:2},{value:"Build directory",id:"build-directory",level:2},{value:"TypeScript code generation",id:"typescript-code-generation",level:3}],u={toc:d};function m(e){var t=e.components,n=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"flowctl"},"flowctl"),(0,r.kt)("p",null,"There are two ways to work with Flow: through the web app, and using the flowctl command-line interface.\nWith flowctl, you can work on drafts and active catalogs created in the web app with a\nhigher degree of control.\nYou can also authorize Flow users and roles and generate Typescript modules to write custom transformations for your ",(0,r.kt)("a",{parentName:"p",href:"/concepts/derivations"},"derivations"),"."),(0,r.kt)("p",null,"flowctl is the only Flow binary that you need to work with,\nso distribution and upgrades are all simple."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"flowctl binaries for MacOS and Linux can be found ",(0,r.kt)("a",{parentName:"p",href:"https://go.estuary.dev/flowctl"},"here"),"."),(0,r.kt)("p",null,"Download the correct binary, make it executable, and add it to your ",(0,r.kt)("inlineCode",{parentName:"p"},"PATH"),"."),(0,r.kt)("h2",{id:"flowctl-subcommands"},"flowctl subcommands"),(0,r.kt)("p",null,"flowctl includes several top-level subcommands representing different functional areas. Each of these include multiple nested subcommands.\nImportant top-level flowctl subcommands are described below."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"auth")," allows you to authenticate your development session in your local development environment.\nIt's also how you provision Flow roles and users. Learn more about ",(0,r.kt)("a",{parentName:"p",href:"/reference/authentication"},"authentication"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"catalog")," allows you to work with your organization's current active catalog. You can investigate the current deployment,\nor add its specification to a ",(0,r.kt)("strong",{parentName:"p"},"draft"),", where you can develop it further.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"draft")," allows you to work with draft catalog specifications. You can create, test, develop locally, and then ",(0,r.kt)("strong",{parentName:"p"},"publish"),", or deploy, them."))),(0,r.kt)("p",null,"You can access full documentation of all flowctl subcommands from the command line by passing the ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"-h")," flag, for example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"flowctl --help")," lists top-level flowctl subcommands")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"flowctl catalog --help")," lists subcommands of ",(0,r.kt)("inlineCode",{parentName:"p"},"catalog")))),(0,r.kt)("h2",{id:"build-directory"},"Build directory"),(0,r.kt)("p",null,"When building Flow catalogs, ",(0,r.kt)("inlineCode",{parentName:"p"},"flowctl")," uses a ",(0,r.kt)("strong",{parentName:"p"},"build directory"),"\nwhich is typically the root directory of your project, and is controlled by flag ",(0,r.kt)("inlineCode",{parentName:"p"},"--directory"),".\nWithin this directory, ",(0,r.kt)("inlineCode",{parentName:"p"},"flowctl")," creates a number of files and sub-directories.\nExcept where noted, it's recommended that these outputs be committed within your GitOps project."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"flow_generated/"),": \u267b\nDirectory of generated files, including TypeScript classes and interfaces.\nSee ",(0,r.kt)("a",{parentName:"p",href:"#typescript-code-generation"},"TypeScript code generation"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"dist/"),": \u267b\nHolds JavaScript and source map files produced during TypeScript compilation.\n",(0,r.kt)("inlineCode",{parentName:"p"},"dist/")," should be added to your ",(0,r.kt)("inlineCode",{parentName:"p"},".gitignore"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"node_modules/"),": \u267b\nLocation where ",(0,r.kt)("inlineCode",{parentName:"p"},"npm")," will download your TypeScript dependencies.\n",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules/")," should be added to your ",(0,r.kt)("inlineCode",{parentName:"p"},".gitignore"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"package-lock.json"),": \u267b\nFiles used by ",(0,r.kt)("inlineCode",{parentName:"p"},"npm")," to manage dependencies and your catalog's associated JavaScript project.\nYou may customize ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json"),",\nbut its ",(0,r.kt)("inlineCode",{parentName:"p"},"dependencies")," stanza will be overwritten by the\n",(0,r.kt)("a",{parentName:"p",href:"/concepts/import#npm-dependencies"},"npmDependencies"),"\nof your catalog source files.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},".eslintrc.js"),": \u2693\nConfigures the TypeScript linter that's run as part of the catalog build process.\nLinting supplements TypeScript compilation to catch additional common mistakes and errors at build time.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},".prettierrc.js"),": \u2693\nConfigures the formatter that's used to format your TypeScript files."))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Legend")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u2693: Generated only if it does not exist. Never modified or deleted by ",(0,r.kt)("inlineCode",{parentName:"p"},"flowctl"),"."),(0,r.kt)("p",{parentName:"div"},"\u267b: ",(0,r.kt)("inlineCode",{parentName:"p"},"flowctl")," re-generates and overwrites contents."))),(0,r.kt)("h3",{id:"typescript-code-generation"},"TypeScript code generation"),(0,r.kt)("p",null,"TypeScript files are used in the Flow catalog both as part of the automatic build process,\nand to define lambdas functions for ",(0,r.kt)("a",{parentName:"p",href:"/concepts/derivations"},"derivations"),", which requires your input."),(0,r.kt)("p",null,"As part of the catalog build process, Flow translates your\n",(0,r.kt)("a",{parentName:"p",href:"/concepts/schemas"},"schemas"),"\ninto equivalent TypeScript types on your behalf.\nThese definitions live within ",(0,r.kt)("inlineCode",{parentName:"p"},"flow_generated/")," in your catalog build directory,\nand are frequently over-written by invocations of ",(0,r.kt)("inlineCode",{parentName:"p"},"flowctl"),".\nFiles in this subdirectory are human-readable and stable.\nYou may want to commit them as part of a GitOps-managed project, but this isn't required."),(0,r.kt)("p",null,"Whenever you define a derivation that uses a ",(0,r.kt)("a",{parentName:"p",href:"/concepts/derivations#lambdas"},"lambda"),",\nyou must define the lambda in an accompanying TypeScript module, and reference that module\nin the derivation's definition. To facilitate this,\nyou can generate a stub of the module using ",(0,r.kt)("inlineCode",{parentName:"p"},"flowctl typescript generate"),"\nand simply write the function bodies.\n",(0,r.kt)("a",{parentName:"p",href:"/concepts/derivations#creating-typescript-modules"},"Learn more about this workflow.")),(0,r.kt)("p",null,"If a TypeScript module exists, ",(0,r.kt)("inlineCode",{parentName:"p"},"flowctl")," will never overwrite it,\neven if you update or expand your catalog sources such that the required interfaces have changed."))}m.isMDXComponent=!0}}]);