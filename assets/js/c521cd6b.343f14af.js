"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[7922],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(a),m=o,g=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return a?n.createElement(g,i(i({ref:t},p),{},{components:a})):n.createElement(g,i({ref:t},p))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6691:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(7462),o=(a(7294),a(3905));const r={},i="Logs and statistics",l={unversionedId:"concepts/advanced/logs-stats",id:"concepts/advanced/logs-stats",title:"Logs and statistics",description:"Flow collects logs and statistics of catalog tasks to aid in debugging and refinement of your workflows.",source:"@site/docs/concepts/advanced/logs-stats.md",sourceDirName:"concepts/advanced",slug:"/concepts/advanced/logs-stats",permalink:"/concepts/advanced/logs-stats",draft:!1,editUrl:"https://github.com/estuary/flow/edit/master/site/docs/concepts/advanced/logs-stats.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Journals",permalink:"/concepts/advanced/journals"},next:{title:"Projections",permalink:"/concepts/advanced/projections"}},s={},c=[{value:"Logs",id:"logs",level:2},{value:"Log level",id:"log-level",level:3}],p={toc:c};function d(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"logs-and-statistics"},"Logs and statistics"),(0,o.kt)("p",null,"Flow collects logs and statistics of catalog tasks to aid in debugging and refinement of your workflows."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Access to statistics is still a work in progress. For now, this documentation deals strictly with logs."))),(0,o.kt)("h2",{id:"logs"},"Logs"),(0,o.kt)("p",null,"Each organization that uses Flow has a ",(0,o.kt)("inlineCode",{parentName:"p"},"logs")," collection under the global ",(0,o.kt)("inlineCode",{parentName:"p"},"ops")," prefix.\nFor the organization Acme Co, it would have the name ",(0,o.kt)("inlineCode",{parentName:"p"},"ops/acmeCo/logs"),"."),(0,o.kt)("p",null,"These can be thought of as standard application logs:\nthey store information about events that occur at runtime.\nThey\u2019re distinct from ",(0,o.kt)("a",{parentName:"p",href:"/concepts/advanced/shards#recovery-logs"},"recovery logs"),", which track the state of various task shards."),(0,o.kt)("p",null,"Regardless of how many Flow catalogs your organization has, all logs are stored in the same collection,\nwhich is read-only and ",(0,o.kt)("a",{parentName:"p",href:"/concepts/advanced/projections#logical-partitions"},"logically partitioned")," on ",(0,o.kt)("a",{parentName:"p",href:"/concepts/#tasks"},"tasks"),".\nLogs are collected from events that occur within the Flow runtime,\nas well as the capture and materialization ",(0,o.kt)("a",{parentName:"p",href:"/concepts/connectors"},"connectors")," your catalog is using."),(0,o.kt)("h3",{id:"log-level"},"Log level"),(0,o.kt)("p",null,"You can set the log level for each catalog task to control the level of detail at which logs are collected for that task.\nThe available levels, listed from least to most detailed, are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"error"),": Non-recoverable errors from the Flow runtime or connector that are critical to know about"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"warn"),": Errors that can be re-tried, but likely require investigation"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"info"),": Task lifecycle events, or information you might want to collect on an ongoing basis"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"debug"),": Details that will help debug an issue with a task"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"trace"),": Maximum level of detail that may yield gigabytes of logs")),(0,o.kt)("p",null,"The default log level is ",(0,o.kt)("inlineCode",{parentName:"p"},"info"),". You can change a task\u2019s log level by adding the ",(0,o.kt)("inlineCode",{parentName:"p"},"shards")," keyword to its definition in the catalog spec:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"materializations:\n  acmeCo/debugMaterialization:\n    shards:\n      logLevel: debug\n    endpoint:\n        {}\n")),(0,o.kt)("p",null,"To learn more about working with logs and statistics,\nsee their ",(0,o.kt)("a",{parentName:"p",href:"../../../reference/working-logs-stats/"},"reference documentation"),"."))}d.isMDXComponent=!0}}]);